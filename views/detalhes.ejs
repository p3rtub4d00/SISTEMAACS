<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Ficha Completa</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #f9f9f9; }
        .ficha-box { border: 1px solid #000; padding: 5px; margin-bottom: 5px; background: #fff; }
        .ficha-label { font-size: 0.7em; font-weight: bold; text-transform: uppercase; color: #555; display: block; }
        .ficha-value { font-size: 1em; font-weight: bold; color: #000; }
        .check-box { display: inline-block; width: 15px; height: 15px; border: 1px solid #000; margin-right: 5px; text-align: center; line-height: 12px; font-size: 10px; }
        
        @media print {
            .no-print { display: none !important; }
            body { background: #fff; }
            .container { max-width: 100%; width: 100%; padding: 0; }
            .card { border: none; box-shadow: none; }
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <div class="d-flex justify-content-between mb-4 no-print">
            <a href="/" class="btn btn-secondary">‚Üê Voltar</a>
            <div>
                <form action="/delete/<%= paciente.id %>" method="POST" style="display:inline;" onsubmit="return confirm('Tem certeza que deseja apagar esta ficha?');">
                    <button type="submit" class="btn btn-danger me-2">Excluir</button>
                </form>
                <button onclick="window.print()" class="btn btn-primary btn-lg">üñ®Ô∏è IMPRIMIR FICHA</button>
            </div>
        </div>

        <div class="card p-3 border-dark" style="border: 2px solid #000;">
            
            <div class="row mb-2 border-bottom border-dark pb-2">
                <div class="col-2 text-center">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/61/SUS_Logo.svg/1200px-SUS_Logo.svg.png" style="width: 80px; opacity: 0.8;">
                </div>
                <div class="col-8 text-center">
                    <h5 class="fw-bold m-0">CADASTRO INDIVIDUAL - ATEN√á√ÉO B√ÅSICA</h5>
                    <small>e-SUS APS - FICHA DE DADOS CADASTRAIS</small>
                </div>
                <div class="col-2 text-end">
                    <small>Data: <%= new Date(paciente.criadoEm).toLocaleDateString() %></small>
                </div>
            </div>

            <h6 class="bg-secondary text-white p-1 ps-2 mb-0" style="font-size: 0.8em;">IDENTIFICA√á√ÉO DO USU√ÅRIO</h6>
            <div class="row g-0">
                <div class="col-3 ficha-box">
                    <span class="ficha-label">CNS (CART√ÉO SUS)</span>
                    <span class="ficha-value"><%= paciente.cns || '---' %></span>
                </div>
                <div class="col-3 ficha-box">
                    <span class="ficha-label">CPF</span>
                    <span class="ficha-value"><%= paciente.cpf || '---' %></span>
                </div>
                <div class="col-6 ficha-box">
                    <span class="ficha-label">NOME COMPLETO</span>
                    <span class="ficha-value"><%= paciente.nome %></span>
                </div>
            </div>
            <div class="row g-0">
                <div class="col-3 ficha-box">
                    <span class="ficha-label">DATA NASCIMENTO</span>
                    <span class="ficha-value"><%= paciente.dataNascimento.split('-').reverse().join('/') %></span>
                </div>
                <div class="col-2 ficha-box">
                    <span class="ficha-label">SEXO</span>
                    <span class="ficha-value"><%= paciente.sexo %></span>
                </div>
                <div class="col-2 ficha-box">
                    <span class="ficha-label">RA√áA/COR</span>
                    <span class="ficha-value"><%= paciente.racaCor %></span>
                </div>
                <div class="col-5 ficha-box">
                    <span class="ficha-label">NOME DA M√ÉE</span>
                    <span class="ficha-value"><%= paciente.nomeMae || 'Desconhecido' %></span>
                </div>
            </div>

            <h6 class="bg-secondary text-white p-1 ps-2 mb-0 mt-2" style="font-size: 0.8em;">ENDERE√áO / CONTATO</h6>
            <div class="row g-0">
                <div class="col-6 ficha-box">
                    <span class="ficha-label">LOGRADOURO</span>
                    <span class="ficha-value"><%= paciente.endereco %></span>
                </div>
                <div class="col-2 ficha-box">
                    <span class="ficha-label">N√öMERO</span>
                    <span class="ficha-value"><%= paciente.numero %></span>
                </div>
                <div class="col-4 ficha-box">
                    <span class="ficha-label">BAIRRO</span>
                    <span class="ficha-value"><%= paciente.bairro %></span>
                </div>
            </div>
            <div class="row g-0">
                <div class="col-2 ficha-box">
                    <span class="ficha-label">MICRO√ÅREA</span>
                    <span class="ficha-value"><%= paciente.microarea %></span>
                </div>
                <div class="col-2 ficha-box">
                    <span class="ficha-label">FAM√çLIA N¬∫</span>
                    <span class="ficha-value"><%= paciente.familiaId %></span>
                </div>
                <div class="col-3 ficha-box">
                    <span class="ficha-label">TELEFONE</span>
                    <span class="ficha-value"><%= paciente.telefone %></span>
                </div>
                <div class="col-3 ficha-box">
                    <span class="ficha-label">CEP</span>
                    <span class="ficha-value"><%= paciente.cep %></span>
                </div>
            </div>

            <h6 class="bg-secondary text-white p-1 ps-2 mb-0 mt-2" style="font-size: 0.8em;">SOCIODEMOGR√ÅFICO</h6>
            <div class="row g-0">
                <div class="col-4 ficha-box">
                    <span class="ficha-label">ESCOLARIDADE</span>
                    <span class="ficha-value"><%= paciente.escolaridade || '-' %></span>
                </div>
                <div class="col-4 ficha-box">
                    <span class="ficha-label">SITUA√á√ÉO DE TRABALHO</span>
                    <span class="ficha-value"><%= paciente.situacaoTrabalho || '-' %></span>
                </div>
                <div class="col-4 ficha-box">
                    <span class="ficha-label">OCUPA√á√ÉO</span>
                    <span class="ficha-value"><%= paciente.ocupacao || '-' %></span>
                </div>
            </div>
            <div class="row g-0 p-2 border border-top-0">
                <div class="col-6">
                    <span class="check-box"><%= paciente.beneficiarioBolsaFamilia ? 'X' : ' ' %></span> Recebe Bolsa Fam√≠lia?
                </div>
                <div class="col-6">
                    <span class="check-box"><%= paciente.temPlanoSaude ? 'X' : ' ' %></span> Tem Plano de Sa√∫de Privado?
                </div>
            </div>

            <h6 class="bg-secondary text-white p-1 ps-2 mb-0 mt-2" style="font-size: 0.8em;">CONDI√á√ïES DE SA√öDE (PROBLEMAS / CONDI√á√ïES AVALIADAS)</h6>
            
            <div class="row g-0 border border-top-0 p-2">
                <div class="col-3">
                    <div class="mb-1"><span class="check-box"><%= paciente.gestante ? 'X' : ' ' %></span> <strong>GESTANTE</strong></div>
                    <div class="mb-1"><span class="check-box"><%= paciente.hipertenso ? 'X' : ' ' %></span> <strong>HIPERTENSO</strong></div>
                    <div class="mb-1"><span class="check-box"><%= paciente.diabetico ? 'X' : ' ' %></span> <strong>DIAB√âTICO</strong></div>
                    <div class="mb-1"><span class="check-box"><%= paciente.fumante ? 'X' : ' ' %></span> FUMANTE</div>
                </div>
                <div class="col-3">
                    <div class="mb-1"><span class="check-box"><%= paciente.acamado ? 'X' : ' ' %></span> <strong>ACAMADO</strong></div>
                    <div class="mb-1"><span class="check-box"><%= paciente.domiciliado ? 'X' : ' ' %></span> DOMICILIADO</div>
                    <div class="mb-1"><span class="check-box"><%= paciente.respiratoria ? 'X' : ' ' %></span> DOEN√áA RESPIRAT√ìRIA</div>
                    <div class="mb-1"><span class="check-box"><%= paciente.alcool ? 'X' : ' ' %></span> USU√ÅRIO √ÅLCOOL</div>
                </div>
                <div class="col-3">
                    <div class="mb-1"><span class="check-box"><%= paciente.cancer ? 'X' : ' ' %></span> C√ÇNCER</div>
                    <div class="mb-1"><span class="check-box"><%= paciente.hanseniase ? 'X' : ' ' %></span> HANSEN√çASE</div>
                    <div class="mb-1"><span class="check-box"><%= paciente.tuberculose ? 'X' : ' ' %></span> TUBERCULOSE</div>
                    <div class="mb-1"><span class="check-box"><%= paciente.drogas ? 'X' : ' ' %></span> OUTRAS DROGAS</div>
                </div>
                <div class="col-3">
                    <div class="mb-1"><span class="check-box"><%= paciente.avc ? 'X' : ' ' %></span> TEVE AVC</div>
                    <div class="mb-1"><span class="check-box"><%= paciente.infarto ? 'X' : ' ' %></span> TEVE INFARTO</div>
                    <div class="mb-1"><span class="check-box"><%= paciente.cardiaco ? 'X' : ' ' %></span> DOEN√áA CARD√çACA</div>
                    <div class="mb-1"><span class="check-box"><%= paciente.rim ? 'X' : ' ' %></span> PROB. RINS</div>
                </div>
            </div>

            <h6 class="bg-secondary text-white p-1 ps-2 mb-0 mt-2" style="font-size: 0.8em;">OBSERVA√á√ïES E ACOMPANHAMENTO</h6>
            <div class="border border-top-0 p-2" style="min-height: 80px;">
                <%= paciente.observacoes || 'Sem observa√ß√µes.' %>
            </div>

            <div class="row mt-4 pt-3">
                <div class="col-6 text-center">
                    _______________________________________<br>
                    Assinatura do Cidad√£o
                </div>
                <div class="col-6 text-center">
                    _______________________________________<br>
                    Assinatura do Agente Comunit√°rio
                </div>
            </div>

        </div>
    </div>
</body>
</html>
